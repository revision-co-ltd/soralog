# ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€ç„¡äººèˆªç©ºæ©Ÿæ—¥èªŒã‚·ã‚¹ãƒ†ãƒ ã®é–‹ç™ºã‚’ä»Šã™ãå§‹ã‚ã‚‹ãŸã‚ã®æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

---

## å‰ææ¡ä»¶

ä»¥ä¸‹ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

- **Node.js** 20 LTS ä»¥ä¸Š
- **npm** ã¾ãŸã¯ **yarn**
- **Docker** ãŠã‚ˆã³ **Docker Compose**ï¼ˆPostgreSQLç”¨ï¼‰
- **Git**

---

## Step 1: Docker ã§ PostgreSQL ã‚’ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1.1 docker-compose.yml ã‚’ä½œæˆ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆï¼š

```yaml
version: '3.8'

services:
  postgres:
    image: postgres:15-alpine
    container_name: drone-log-db
    restart: always
    environment:
      POSTGRES_USER: drone_log_user
      POSTGRES_PASSWORD: drone_log_pass_2025
      POSTGRES_DB: drone_log_db
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U drone_log_user"]
      interval: 10s
      timeout: 5s
      retries: 5

volumes:
  postgres_data:
```

### 1.2 PostgreSQL ã‚’èµ·å‹•

```bash
docker-compose up -d
```

ç¢ºèª:
```bash
docker ps
# drone-log-db ãŒ Running ã«ãªã£ã¦ã„ã‚Œã°OK
```

---

## Step 2: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®åˆæœŸåŒ–

### 2.1 backend ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆ

```bash
mkdir backend
cd backend
npm init -y
```

### 2.2 å¿…è¦ãªä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# åŸºæœ¬çš„ãªä¾å­˜é–¢ä¿‚
npm install express cors helmet bcrypt jsonwebtoken dotenv
npm install @prisma/client

# é–‹ç™ºç”¨ã®ä¾å­˜é–¢ä¿‚
npm install -D typescript ts-node nodemon
npm install -D @types/node @types/express @types/cors @types/bcrypt @types/jsonwebtoken
npm install -D prisma

# ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ­ã‚°
npm install zod winston

# Excel/CSV/PDF
npm install exceljs csv-parse csv-stringify archiver
npm install puppeteer

# IDç”Ÿæˆ
npm install hashids nanoid
```

### 2.3 TypeScript è¨­å®š

`tsconfig.json` ã‚’ä½œæˆ:

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "commonjs",
    "lib": ["ES2022"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "moduleResolution": "node"
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules"]
}
```

### 2.4 package.json ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ 

```json
{
  "scripts": {
    "dev": "nodemon src/index.ts",
    "build": "tsc",
    "start": "node dist/index.js",
    "prisma:generate": "prisma generate",
    "prisma:migrate": "prisma migrate dev",
    "prisma:studio": "prisma studio"
  }
}
```

---

## Step 3: Prisma ã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 3.1 Prisma ã‚’åˆæœŸåŒ–

```bash
npx prisma init
```

ã“ã‚Œã«ã‚ˆã‚Š `prisma/schema.prisma` ã¨ `.env` ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

### 3.2 .env ã‚’ç·¨é›†

```env
DATABASE_URL="postgresql://drone_log_user:drone_log_pass_2025@localhost:5432/drone_log_db?schema=public"
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production"
JWT_EXPIRES_IN="1h"
NODE_ENV="development"
PORT=3000
```

### 3.3 prisma/schema.prisma ã‚’ç·¨é›†

```prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// çµ„ç¹”ï¼ˆãƒãƒ«ãƒãƒ†ãƒŠãƒ³ãƒˆå¯¾å¿œï¼‰
model Organization {
  id        String   @id @default(uuid())
  name      String
  code      String   @unique
  address   String?
  phone     String?
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  users               User[]
  drones              Drone[]
  locations           Location[]
  flightLogs          FlightLog[]
  dailyInspections    DailyInspection[]
  maintenanceRecords  MaintenanceRecord[]

  @@map("organizations")
}

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆæ“ç¸¦è€…ï¼‰
model User {
  id             String       @id @default(uuid())
  organizationId String       @map("organization_id")
  organization   Organization @relation(fields: [organizationId], references: [id])
  email          String       @unique
  passwordHash   String       @map("password_hash")
  name           String
  licenseNumber  String?      @map("license_number")
  role           String       @default("operator") // operator / admin / system_admin
  isActive       Boolean      @default(true) @map("is_active")
  createdAt      DateTime     @default(now()) @map("created_at")
  updatedAt      DateTime     @updatedAt @map("updated_at")

  flightLogsAsOperator  FlightLog[]         @relation("FlightLogOperator")
  flightLogsAsConfirmer FlightLog[]         @relation("FlightLogConfirmer")
  dailyInspections      DailyInspection[]
  maintenanceRecords    MaintenanceRecord[]

  @@index([organizationId])
  @@index([email])
  @@map("users")
}

// ç„¡äººèˆªç©ºæ©Ÿï¼ˆæ©Ÿä½“ï¼‰
model Drone {
  id                   String       @id @default(uuid())
  organizationId       String       @map("organization_id")
  organization         Organization @relation(fields: [organizationId], references: [id])
  registrationMark     String       @map("registration_mark")
  name                 String
  manufacturer         String?
  model                String?
  serialNumber         String?      @map("serial_number")
  certificationNumber  String?      @map("certification_number")
  totalFlightHours     Decimal      @default(0) @map("total_flight_hours") @db.Decimal(10, 2)
  status               String       @default("active") // active / maintenance / retired
  createdAt            DateTime     @default(now()) @map("created_at")
  updatedAt            DateTime     @updatedAt @map("updated_at")
  deletedAt            DateTime?    @map("deleted_at")

  flightLogs         FlightLog[]
  dailyInspections   DailyInspection[]
  maintenanceRecords MaintenanceRecord[]

  @@unique([organizationId, registrationMark])
  @@index([organizationId])
  @@index([registrationMark])
  @@map("drones")
}

// é£›è¡Œå ´æ‰€
model Location {
  id             String       @id @default(uuid())
  organizationId String       @map("organization_id")
  organization   Organization @relation(fields: [organizationId], references: [id])
  name           String
  address        String?
  latitude       Decimal?     @db.Decimal(10, 7)
  longitude      Decimal?     @db.Decimal(10, 7)
  isDid          Boolean      @default(false) @map("is_did")
  requiresPermit Boolean      @default(false) @map("requires_permit")
  notes          String?
  createdAt      DateTime     @default(now()) @map("created_at")
  updatedAt      DateTime     @updatedAt @map("updated_at")

  flightLogsTakeoff        FlightLog[]         @relation("TakeoffLocation")
  flightLogsLanding        FlightLog[]         @relation("LandingLocation")
  dailyInspections         DailyInspection[]
  maintenanceRecords       MaintenanceRecord[]

  @@index([organizationId])
  @@map("locations")
}

// é£›è¡Œè¨˜éŒ²ï¼ˆæ§˜å¼1ï¼‰
model FlightLog {
  id                         String       @id @default(uuid())
  organizationId             String       @map("organization_id")
  organization               Organization @relation(fields: [organizationId], references: [id])
  droneId                    String       @map("drone_id")
  drone                      Drone        @relation(fields: [droneId], references: [id])
  operatorId                 String       @map("operator_id")
  operator                   User         @relation("FlightLogOperator", fields: [operatorId], references: [id])
  flightDate                 DateTime     @map("flight_date") @db.Date
  purpose                    String
  outline                    String?
  isTokuteiFlight            Boolean      @default(false) @map("is_tokutei_flight")
  flightPlanNotified         Boolean?     @map("flight_plan_notified")
  takeoffLocationId          String?      @map("takeoff_location_id")
  takeoffLocation            Location?    @relation("TakeoffLocation", fields: [takeoffLocationId], references: [id])
  takeoffTime                DateTime     @map("takeoff_time") @db.Time
  landingLocationId          String?      @map("landing_location_id")
  landingLocation            Location?    @relation("LandingLocation", fields: [landingLocationId], references: [id])
  landingTime                DateTime     @map("landing_time") @db.Time
  flightTimeMinutes          Int?         @map("flight_time_minutes")
  totalTimeSinceManufactured Decimal?     @map("total_time_since_manufactured") @db.Decimal(10, 2)
  safetyImpactNote           String?      @map("safety_impact_note")
  faultDate                  DateTime?    @map("fault_date") @db.Date
  faultDetail                String?      @map("fault_detail")
  fixDate                    DateTime?    @map("fix_date") @db.Date
  fixDetail                  String?      @map("fix_detail")
  confirmerId                String?      @map("confirmer_id")
  confirmer                  User?        @relation("FlightLogConfirmer", fields: [confirmerId], references: [id])
  retentionUntil             DateTime     @map("retention_until") @db.Date
  createdAt                  DateTime     @default(now()) @map("created_at")
  updatedAt                  DateTime     @updatedAt @map("updated_at")
  deletedAt                  DateTime?    @map("deleted_at")

  @@index([droneId, flightDate])
  @@index([organizationId])
  @@index([operatorId])
  @@map("flight_logs")
}

// æ—¥å¸¸ç‚¹æ¤œè¨˜éŒ²ï¼ˆæ§˜å¼2ï¼‰
model DailyInspection {
  id                 String       @id @default(uuid())
  organizationId     String       @map("organization_id")
  organization       Organization @relation(fields: [organizationId], references: [id])
  droneId            String       @map("drone_id")
  drone              Drone        @relation(fields: [droneId], references: [id])
  inspectionType     String       @map("inspection_type") // pre-flight / post-flight
  executionDate      DateTime     @map("execution_date") @db.Date
  executionPlaceId   String?      @map("execution_place_id")
  executionPlace     Location?    @relation(fields: [executionPlaceId], references: [id])
  executorId         String       @map("executor_id")
  executor           User         @relation(fields: [executorId], references: [id])
  resultAirframe     String?      @map("result_airframe")
  noteAirframe       String?      @map("note_airframe")
  resultPropeller    String?      @map("result_propeller")
  notePropeller      String?      @map("note_propeller")
  resultFrame        String?      @map("result_frame")
  noteFrame          String?      @map("note_frame")
  resultCommunication String?     @map("result_communication")
  noteCommunication  String?      @map("note_communication")
  resultPropulsion   String?      @map("result_propulsion")
  notePropulsion     String?      @map("note_propulsion")
  resultPower        String?      @map("result_power")
  notePower          String?      @map("note_power")
  resultControl      String?      @map("result_control")
  noteControl        String?      @map("note_control")
  resultController   String?      @map("result_controller")
  noteController     String?      @map("note_controller")
  resultBattery      String?      @map("result_battery")
  noteBattery        String?      @map("note_battery")
  resultRemoteId     String?      @map("result_remote_id")
  noteRemoteId       String?      @map("note_remote_id")
  resultLights       String?      @map("result_lights")
  noteLights         String?      @map("note_lights")
  resultCamera       String?      @map("result_camera")
  noteCamera         String?      @map("note_camera")
  specialNote        String?      @map("special_note")
  overallResult      String?      @map("overall_result")
  retentionUntil     DateTime     @map("retention_until") @db.Date
  createdAt          DateTime     @default(now()) @map("created_at")
  updatedAt          DateTime     @updatedAt @map("updated_at")
  deletedAt          DateTime?    @map("deleted_at")

  @@index([droneId, executionDate])
  @@index([organizationId])
  @@map("daily_inspections")
}

// ç‚¹æ¤œæ•´å‚™è¨˜éŒ²ï¼ˆæ§˜å¼3ï¼‰
model MaintenanceRecord {
  id                      String       @id @default(uuid())
  organizationId          String       @map("organization_id")
  organization            Organization @relation(fields: [organizationId], references: [id])
  droneId                 String       @map("drone_id")
  drone                   Drone        @relation(fields: [droneId], references: [id])
  executionDate           DateTime     @map("execution_date") @db.Date
  totalFlightTimeAtMoment Decimal?     @map("total_flight_time_at_moment") @db.Decimal(10, 2)
  workContent             String       @map("work_content")
  reason                  String?
  executionPlaceId        String?      @map("execution_place_id")
  executionPlace          Location?    @relation(fields: [executionPlaceId], references: [id])
  executorId              String       @map("executor_id")
  executor                User         @relation(fields: [executorId], references: [id])
  nextDueNote             String?      @map("next_due_note")
  retentionUntil          DateTime     @map("retention_until") @db.Date
  createdAt               DateTime     @default(now()) @map("created_at")
  updatedAt               DateTime     @updatedAt @map("updated_at")
  deletedAt               DateTime?    @map("deleted_at")

  @@index([droneId, executionDate])
  @@index([organizationId])
  @@map("maintenance_records")
}
```

### 3.4 ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ

```bash
npx prisma migrate dev --name init
```

### 3.5 Prisma Client ç”Ÿæˆ

```bash
npx prisma generate
```

### 3.6 Prisma Studio ã§ç¢ºèªï¼ˆä»»æ„ï¼‰

```bash
npx prisma studio
# ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:5555 ãŒé–‹ãã¾ã™
```

---

## Step 4: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã‚’ä½œæˆ

```bash
cd backend/src
mkdir controllers services repositories middleware models utils validators
```

æœ€çµ‚çš„ãªæ§‹é€ :

```
backend/
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ repositories/
â”‚   â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ validators/
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ .env
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

---

## Step 5: æœ€åˆã®APIã‚’ä½œæˆ

### 5.1 src/index.ts

```typescript
import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import dotenv from 'dotenv';

dotenv.config();

const app = express();
const PORT = process.env.PORT || 3000;

// Middleware
app.use(helmet());
app.use(cors());
app.use(express.json());

// Health check
app.get('/health', (req, res) => {
  res.json({ status: 'ok', message: 'Drone Log API is running' });
});

// Start server
app.listen(PORT, () => {
  console.log(`ğŸš€ Server is running on http://localhost:${PORT}`);
});
```

### 5.2 ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•

```bash
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã¾ãŸã¯ curl ã§ç¢ºèª:
```bash
curl http://localhost:3000/health
# {"status":"ok","message":"Drone Log API is running"}
```

---

## Step 6: èªè¨¼æ©Ÿèƒ½ã‚’å®Ÿè£…

### 6.1 src/utils/jwt.util.ts

```typescript
import jwt from 'jsonwebtoken';

const JWT_SECRET = process.env.JWT_SECRET || 'your-secret-key';
const JWT_EXPIRES_IN = process.env.JWT_EXPIRES_IN || '1h';

export const generateToken = (userId: string, organizationId: string): string => {
  return jwt.sign(
    { userId, organizationId },
    JWT_SECRET,
    { expiresIn: JWT_EXPIRES_IN }
  );
};

export const verifyToken = (token: string): any => {
  try {
    return jwt.verify(token, JWT_SECRET);
  } catch (error) {
    throw new Error('Invalid token');
  }
};
```

### 6.2 src/utils/hash.util.ts

```typescript
import bcrypt from 'bcrypt';

const SALT_ROUNDS = 10;

export const hashPassword = async (password: string): Promise<string> => {
  return await bcrypt.hash(password, SALT_ROUNDS);
};

export const comparePassword = async (
  password: string,
  hash: string
): Promise<boolean> => {
  return await bcrypt.compare(password, hash);
};
```

### 6.3 src/middleware/auth.middleware.ts

```typescript
import { Request, Response, NextFunction } from 'express';
import { verifyToken } from '../utils/jwt.util';

export interface AuthRequest extends Request {
  user?: {
    userId: string;
    organizationId: string;
  };
}

export const authenticate = (
  req: AuthRequest,
  res: Response,
  next: NextFunction
) => {
  const authHeader = req.headers.authorization;

  if (!authHeader) {
    return res.status(401).json({ error: 'No token provided' });
  }

  const token = authHeader.replace('Bearer ', '');

  try {
    const decoded = verifyToken(token);
    req.user = decoded;
    next();
  } catch (error) {
    return res.status(401).json({ error: 'Invalid token' });
  }
};
```

---

## Step 7: æœ€åˆã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ»ãƒ­ã‚°ã‚¤ãƒ³ï¼‰

### 7.1 src/controllers/auth.controller.ts

```typescript
import { Request, Response } from 'express';
import { PrismaClient } from '@prisma/client';
import { hashPassword, comparePassword } from '../utils/hash.util';
import { generateToken } from '../utils/jwt.util';

const prisma = new PrismaClient();

export const register = async (req: Request, res: Response) => {
  try {
    const { email, password, name, organizationId } = req.body;

    // Check if user exists
    const existingUser = await prisma.user.findUnique({ where: { email } });
    if (existingUser) {
      return res.status(400).json({ error: 'User already exists' });
    }

    // Hash password
    const passwordHash = await hashPassword(password);

    // Create user
    const user = await prisma.user.create({
      data: {
        email,
        passwordHash,
        name,
        organizationId,
        role: 'operator',
      },
    });

    // Generate token
    const token = generateToken(user.id, user.organizationId);

    res.status(201).json({
      user: {
        id: user.id,
        email: user.email,
        name: user.name,
        role: user.role,
      },
      token,
    });
  } catch (error) {
    console.error(error);
    res.status(500).json({ error: 'Internal server error' });
  }
};

export const login = async (req: Request, res: Response) => {
  try {
    const { email, password } = req.body;

    // Find user
    const user = await prisma.user.findUnique({ where: { email } });
    if (!user) {
      return res.status(401).json({ error: 'Invalid credentials' });
    }

    // Check password
    const isPasswordValid = await comparePassword(password, user.passwordHash);
    if (!isPasswordValid) {
      return res.status(401).json({ error: 'Invalid credentials' });
    }

    // Generate token
    const token = generateToken(user.id, user.organizationId);

    res.json({
      user: {
        id: user.id,
        email: user.email,
        name: user.name,
        role: user.role,
      },
      token,
    });
  } catch (error) {
    console.error(error);
    res.status(500).json({ error: 'Internal server error' });
  }
};
```

### 7.2 src/index.ts ã‚’æ›´æ–°

```typescript
import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import dotenv from 'dotenv';
import { register, login } from './controllers/auth.controller';

dotenv.config();

const app = express();
const PORT = process.env.PORT || 3000;

// Middleware
app.use(helmet());
app.use(cors());
app.use(express.json());

// Health check
app.get('/health', (req, res) => {
  res.json({ status: 'ok', message: 'Drone Log API is running' });
});

// Auth routes
app.post('/api/auth/register', register);
app.post('/api/auth/login', login);

// Start server
app.listen(PORT, () => {
  console.log(`ğŸš€ Server is running on http://localhost:${PORT}`);
});
```

---

## Step 8: ãƒ†ã‚¹ãƒˆ

### 8.1 çµ„ç¹”ã‚’ä½œæˆï¼ˆPrisma Studio ã¾ãŸã¯ç›´æ¥SQLï¼‰

```sql
INSERT INTO organizations (id, name, code)
VALUES ('550e8400-e29b-41d4-a716-446655440000', 'ãƒ†ã‚¹ãƒˆæ ªå¼ä¼šç¤¾', 'test-org-001');
```

### 8.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã‚’ãƒ†ã‚¹ãƒˆ

```bash
curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "pilot@example.com",
    "password": "securepass123",
    "name": "å±±ç”°å¤ªéƒ",
    "organizationId": "550e8400-e29b-41d4-a716-446655440000"
  }'
```

### 8.3 ãƒ­ã‚°ã‚¤ãƒ³ã‚’ãƒ†ã‚¹ãƒˆ

```bash
curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "pilot@example.com",
    "password": "securepass123"
  }'
```

ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:
```json
{
  "user": {
    "id": "...",
    "email": "pilot@example.com",
    "name": "å±±ç”°å¤ªéƒ",
    "role": "operator"
  },
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ã“ã‚Œã§ Phase 1 ã¨ Phase 2 ã®åŸºç›¤ãŒå®Œæˆã—ã¾ã—ãŸï¼

æ¬¡ã¯ **Phase 3: ãƒã‚¹ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†API** ã«é€²ã¿ã¾ã™ï¼š

1. **æ©Ÿä½“ï¼ˆDronesï¼‰API** ã‚’å®Ÿè£…
2. **å ´æ‰€ï¼ˆLocationsï¼‰API** ã‚’å®Ÿè£…
3. **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ã®æ¥ç¶š**

è©³ç´°ã¯ `å®Ÿè£…è¨ˆç”».md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### PostgreSQL ã«æ¥ç¶šã§ããªã„
```bash
# Docker ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
docker ps

# ãƒ­ã‚°ã‚’ç¢ºèª
docker logs drone-log-db

# å†èµ·å‹•
docker-compose restart
```

### Prisma ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼
```bash
# æ—¢å­˜ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ
npx prisma migrate reset

# å†åº¦ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
npx prisma migrate dev --name init
```

### TypeScript ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
```bash
# å‹å®šç¾©ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -D @types/node @types/express

# tsconfig.json ã‚’ç¢ºèª
```

---

**é–‹ç™ºã‚’æ¥½ã—ã‚“ã§ãã ã•ã„ï¼** ğŸšâœ¨

