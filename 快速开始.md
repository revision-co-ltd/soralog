# 快速开始 - 本地存储和导出功能

## 3分钟快速体验

### 1️⃣ 添加一条飞行记录 (1分钟)

1. 打开应用首页
2. 确保选择了 **"様式1"** (飞行记录)
3. 填写必填字段:
   - 飛行日: 选择今天
   - 操縦者: 选择任一操纵者
   - 使用機体: 选择任一机体
   - 点検・離陸場所: 点击获取当前位置
   - 飛行時間: 输入30分钟
   - 飛行目的: 输入"测试"
4. 点击 **"記録を保存"**

✅ **成功提示**: 应该看到"✅ 飛行記録を保存しました！"

### 2️⃣ 验证本地保存 (30秒)

1. 按 **F12** 打开开发者工具
2. 切换到 **Application** 标签
3. 展开 **Local Storage** → 选择您的域名
4. 查找 **flightLogs** 键

✅ **验证成功**: 能看到JSON格式的飞行记录数据

### 3️⃣ 导出数据 (1分钟)

1. 点击底部 **"その他"** 标签
2. 点击 **"エクスポート・設定"**
3. 在"ローカルデータ出力"部分
4. 点击 **"CSV出力"** 按钮

✅ **成功下载**: 自动下载CSV文件，用Excel打开查看

### 4️⃣ 测试数据持久化 (30秒)

1. 刷新页面 (F5)
2. 点击底部 **"履歴"** 标签
3. 查看飞行记录列表

✅ **数据保留**: 刚才添加的记录依然显示

---

## 完成！🎉

您已经成功体验了以下功能:
- ✅ 添加飞行记录
- ✅ 本地自动保存
- ✅ 导出CSV文件
- ✅ 数据持久化

## 下一步

### 尝试更多功能

#### 📋 添加日常点检记录
1. 首页选择 **"様式2"**
2. 填写点检表单
3. 提交后前往"その他" → "エクスポート・設定"导出

#### 🔧 添加点检整备记录
1. 首页选择 **"様式3"**
2. 填写整备表单
3. 导出CSV查看

#### 📊 查看统计数据
1. 点击 **"その他"**
2. 点击 **"統計・分析"**
3. 查看飞行时间统计

#### 💾 导出JSON备份
1. "その他" → "エクスポート・設定"
2. 点击 **"JSON出力"**
3. 保存JSON文件作为完整备份

### 高级功能

#### 📅 按日期范围导出
```
1. 在导出页面设置"开始日"和"终了日"
2. 点击"CSV出力"
3. 只导出该时间段的数据
```

#### 🔍 查看localStorage数据
```javascript
// 在浏览器控制台运行
console.log('飞行记录:', JSON.parse(localStorage.getItem('flightLogs')));
console.log('操纵者:', JSON.parse(localStorage.getItem('pilots')));
console.log('机体:', JSON.parse(localStorage.getItem('uavs')));
```

#### 📈 统计数据量
```javascript
// 在浏览器控制台运行
const flights = JSON.parse(localStorage.getItem('flightLogs') || '[]');
console.log(`共有 ${flights.length} 条飞行记录`);

const totalMinutes = flights.reduce((sum, f) => sum + f.duration, 0);
console.log(`总飞行时间: ${Math.floor(totalMinutes / 60)}小时${totalMinutes % 60}分钟`);
```

## 常见问题 (FAQ)

### Q1: 数据保存在哪里？
**A**: 保存在浏览器的localStorage中，位于您的设备上，不会上传到服务器（除非网络可用时自动同步）。

### Q2: 刷新页面数据会丢失吗？
**A**: 不会。localStorage中的数据是持久化的，只有主动清除浏览器缓存才会删除。

### Q3: 可以离线使用吗？
**A**: 可以。所有添加和导出功能都不需要网络连接。

### Q4: CSV在Excel中乱码怎么办？
**A**: 正常情况不会乱码（使用BOM标记的UTF-8）。如果有问题，尝试用Excel的"数据导入"功能。

### Q5: 如何备份数据？
**A**: 定期导出JSON文件，该文件包含完整的数据，可用于恢复。

### Q6: 数据能在多个设备间同步吗？
**A**: 当前版本数据保存在本地设备。如果需要多设备同步，请在每个设备上分别导出/导入数据。

### Q7: 能存储多少条记录？
**A**: localStorage通常限制5-10MB，足够存储数千条记录。接近限制时会有提示。

### Q8: 如何清空所有数据？
**A**: 
```javascript
// 在浏览器控制台运行
localStorage.clear();
location.reload();
```
⚠️ 注意：这会删除所有数据，请先备份！

## 快速参考

### 导航结构
```
ホーム (首页)
├─ 様式1: 飛行記録 (飞行记录)
├─ 様式2: 日常点検記録 (日常点检)
└─ 様式3: 点検整備記録 (点检整备)

飛行記録 (飞行记录)
└─ 添加新的飞行记录

履歴 (历史)
└─ 查看所有飞行记录

その他 (其他)
├─ 統計・分析 (统计分析)
├─ 操縦者・機体管理 (操纵者和机体管理)
└─ エクスポート・設定 (导出和设置)
    ├─ ローカルデータ出力 (本地数据导出) ⭐ 新功能
    │   ├─ 飛行記録 (CSV/JSON)
    │   ├─ 日常点検記録 (CSV)
    │   └─ 点検整備記録 (CSV)
    └─ オンライン出力 (在线导出)
```

### 快捷键
- **F12**: 打开开发者工具
- **F5**: 刷新页面
- **Ctrl+S / Cmd+S**: 保存当前表单（部分浏览器）

### 重要localStorage键
- `flightLogs`: 飞行记录
- `pilots`: 操纵者信息
- `uavs`: 机体信息
- `dailyInspections`: 日常点检
- `maintenanceRecords`: 点检整备

## 需要帮助？

查看以下文档:
- 📖 **详细功能说明**: `本地存储和导出功能说明.md`
- 🧪 **完整测试指南**: `测试指南.md`
- 📋 **变更日志**: `CHANGELOG_LOCAL_EXPORT.md`
- 📊 **更新总结**: `更新总结.md`

---

**提示**: 建议每周导出一次JSON文件作为备份！📦

