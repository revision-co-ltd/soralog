# REST Client Test File
# Install "REST Client" extension in VS Code to use

### Variables
@baseUrl = http://localhost:3000/api
@token = YOUR_TOKEN_HERE

### Health Check
GET http://localhost:3000/health

### ==================== Auth ====================

### Register
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "password123",
  "name": "Test User",
  "organizationId": "ORG_ID_HERE"
}

### Login
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@example.com",
  "password": "password123"
}

### ==================== Flight Logs ====================

### Get All Flight Logs
GET {{baseUrl}}/flight-logs
Authorization: Bearer {{token}}

### Get Flight Logs with Filters
GET {{baseUrl}}/flight-logs?from=2025-01-01&to=2025-12-31
Authorization: Bearer {{token}}

### Create Flight Log
POST {{baseUrl}}/flight-logs
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "droneId": "DRONE_ID_HERE",
  "operatorId": "OPERATOR_ID_HERE",
  "flightDate": "2025-11-14",
  "purpose": "空撮・撮影",
  "outline": "テスト飛行",
  "isTokuteiFlight": false,
  "takeoffTime": "10:00",
  "landingTime": "11:00",
  "flightTimeMinutes": 60
}

### Get Flight Log by ID
GET {{baseUrl}}/flight-logs/FLIGHT_LOG_ID_HERE
Authorization: Bearer {{token}}

### Update Flight Log
PUT {{baseUrl}}/flight-logs/FLIGHT_LOG_ID_HERE
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "purpose": "点検・調査"
}

### Delete Flight Log
DELETE {{baseUrl}}/flight-logs/FLIGHT_LOG_ID_HERE
Authorization: Bearer {{token}}

### ==================== Daily Inspections ====================

### Get All Inspections
GET {{baseUrl}}/daily-inspections
Authorization: Bearer {{token}}

### Create Daily Inspection
POST {{baseUrl}}/daily-inspections
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "droneId": "DRONE_ID_HERE",
  "inspectionType": "PRE_FLIGHT",
  "executionDate": "2025-11-14",
  "executorId": "EXECUTOR_ID_HERE",
  "resultAirframe": "NORMAL",
  "resultPropeller": "NORMAL",
  "resultFrame": "NORMAL",
  "resultCommunication": "NORMAL",
  "resultPropulsion": "NORMAL",
  "resultPower": "NORMAL",
  "resultControl": "NORMAL",
  "resultController": "NORMAL",
  "resultBattery": "NORMAL",
  "resultRemoteId": "NORMAL",
  "resultLights": "NORMAL",
  "resultCamera": "NORMAL"
}

### ==================== Drones ====================

### Get All Drones
GET {{baseUrl}}/drones
Authorization: Bearer {{token}}

### Create Drone
POST {{baseUrl}}/drones
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "registrationMark": "JU-999999",
  "name": "新機体",
  "manufacturer": "DJI",
  "model": "Mavic 3",
  "status": "ACTIVE"
}

### ==================== Users ====================

### Get All Users
GET {{baseUrl}}/users
Authorization: Bearer {{token}}

### ==================== Locations ====================

### Get All Locations
GET {{baseUrl}}/locations
Authorization: Bearer {{token}}

### Create Location
POST {{baseUrl}}/locations
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "新飛行場所",
  "address": "東京都新宿区",
  "latitude": 35.6895,
  "longitude": 139.6917,
  "isDid": true,
  "requiresPermit": true
}

### ==================== Export APIs ====================

### Export Flight Logs as CSV
GET {{baseUrl}}/export/flight-logs/csv
Authorization: Bearer {{token}}

### Export Flight Logs as CSV (with date range)
GET {{baseUrl}}/export/flight-logs/csv?from=2025-01-01&to=2025-12-31
Authorization: Bearer {{token}}

### Export Flight Logs as Excel
GET {{baseUrl}}/export/flight-logs/excel
Authorization: Bearer {{token}}

### Export Flight Logs as PDF
GET {{baseUrl}}/export/flight-logs/pdf
Authorization: Bearer {{token}}

### Export Daily Inspections as CSV
GET {{baseUrl}}/export/daily-inspections/csv
Authorization: Bearer {{token}}

### Export Daily Inspections as Excel
GET {{baseUrl}}/export/daily-inspections/excel
Authorization: Bearer {{token}}

### Export Daily Inspections as PDF
GET {{baseUrl}}/export/daily-inspections/pdf
Authorization: Bearer {{token}}

### Export Maintenance Records as CSV
GET {{baseUrl}}/export/maintenance-records/csv
Authorization: Bearer {{token}}

### Export Maintenance Records as Excel
GET {{baseUrl}}/export/maintenance-records/excel
Authorization: Bearer {{token}}

### Export Maintenance Records as PDF
GET {{baseUrl}}/export/maintenance-records/pdf
Authorization: Bearer {{token}}

